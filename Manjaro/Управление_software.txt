Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.6
Creation-Date: 2023-01-07T01:18:16+02:00

====== Управление software ======

===== pacman =====

Основной консольный package manager дистрибутива Arch Linux. Название происходит от англ. “PACkage MANager”.

==== Поиск пакета ====

=== … в репозиториях ===

''sudo pacman -Ss audacity''

=== … в репозиториях по регулярному выражению ===

''sudo pacman -Ss ^audacity''

=== … в установленной системе ===

''sudo pacman -Qs audacity''

==== Запросить описание пакета ====

''sudo'' ''pacman -Sii audacity''

==== Установить пакет ====

''sudo pacman -S audacity''

==== Удалить пакет ====

=== … без удаления зависимостей ===

''sudo pacman -R audacity''

=== … и его конфигурационные файлы ===

''sudo pacman -Rn audacity''

=== … со всеми зависимостями ===

…которые не используются другими пакетами.

''sudo pacman -Rs audacity''

=== … с зависимостями и конфигурационными файлами ===

''sudo'' ''pacman -Rsn audacity''

=== … игнорируя предупреждение о зависимостях ===

''sudo'' ''pacman -Rdd texlive-core''

Такое надо делать на очень трезвую голову.

==== Показать список установленных пакетов ====

=== … с указанием версий ===

''sudo'' ''pacman -Qe''

=== … без указания версий ===

''sudo'' ''pacman -Qqe''

==== Обновление ====

=== … баз данных пакетов ===

''sudo'' ''pacman -Sy''

=== … всей системы ===

''sudo'' ''pacman -Su''

=== … баз данных пакетов и системы ===

''sudo'' ''pacman -Syu''

==== Показать пакеты-сироты ====

=== … с указанием версий ===

''sudo'' ''pacman -Qdt''

=== … без указания версий ===

''sudo'' ''pacman -Qdtq''

=== Удаление всех пакетов-сирот ===

''sudo'' ''pacman -Qqdt'' 

или

''sudo'' ''pacman -Rsn''

==== Очистка кэша ====

=== … установленных пакетов ===

''sudo'' ''pacman -Scc''

=== … неустановленных пакетов ===

''sudo'' ''pacman -Sc''

===== Pamac =====

Это одновременно и GUI, и консольный package manager, который соединен и c репозиторием Manjaro, и с AUR, Flatpak и Snaps. Команды в нём более человекопонятные:

* ''sudo pamac search audacity''
* ''sudo pamac install audacity''
* ''sudo pamac remove audacity''
* ''sudo pamac upgrade''

Однако pamac более требователен к подтверждению установки. В ответ на вопрос

''Применить транзакцию ? [д/Н]''

недостаточно просто нажать Enter, всегда надо набирать на клавиатуре “''y''”, и затем “''Enter''”. Если просто нажать ввод, установка ПО прекратится. 

В консоли может быть более разумным юзать только pacman, а pamac будет по-умолчанию использоваться, когда ПО будет устанавливаться из gui-ного «Установка и удаление программ». 

==== Выбор зависимостей в pamac ====

В GUI выбор установки необязательных зависимостей делается кликами мыши. В консоли выбор надо перечислять цифрами через запятую.

Пример при установке Krusader: 

'''
Выберите необязательные зависимости для krusader:
1:  lhasa: LHA archive support
2:  cpio: cpio archive support
3:  unrar: RAR decompression support
4:  arj: ARJ archive support
5:  unarj: ARJ decompression support
6:  unace: ACE decompression support
7:  kompare: file contents comparison
8:  kdiff3: file contents comparison
9:  krename: advanced rename tool
'''

Перечисляю нужные (мне нужны все):

''Укажите ваш выбор (по умолчанию=нет): 1,2,3,4,5,6,7,8,9''

--------------------
@manjaro @console @pacman @pamac 
